
### DataSource 란?
- `커넥션을 획득하는 방법을 추상화`하는 인터페이스
- 이 인터페이스의 핵심 기능은 `커넥션 조회`
```java
public interface DataSouce {
Connection getConnection() throws SQLException;
}
```

![[DataSource 인터페이스 추상화.jpg]]
## 정리

- 대부분의 커넥션 풀은 `DataSource` 인터페이스를 이미 구현해두었다. 따라서 개발자는 DBCP2 커넥션 풀, HikariCP 커넥션 풀의 코드를 직접 의존하는 것이 아니라 `DataSource` 인터페이스에만 의존하도록 애플리케이션 코드를 작성하면 된다.
- 커넥션 풀 구현 기술을 변경하고 싶으면 해당 구현체로 갈아끼우기만 하면 된다.
- `DriverManager`는 `DataSource` 인터페이스를 사용하지 않는다. 따라서 `DriverManager`는 직접 사용해서는 안된다. 따라서 `DriverManager`를 사용하다가 `DataSource` 기반의 커넥션 풀을 사용하도록 변경하면 관련 코드를 다 고쳐야 한다. 이런 문제를 해결하기 위해 스프링은 `DriverManager`도 `DataSource`를 통해서 사용할 수 있도록 `DriverManagerDataSource`라는 `DataSource`를 구현한 클래스를 제공한다.
- 자바는 `DataSource`를 통해 커넥션을 획득하는 방법을 추상화한다. 이제 애플리케이션 코드는 `DataSource` 인터페이스에만 의존하면 된다. 덕분에 `DriverManagerDataSource`를 통해서 커넥션을 획득하다가 커넥션 풀을 사용하도록 코드를 변경해도 애플리케이션 로직은 변경하지 않아도 된다.

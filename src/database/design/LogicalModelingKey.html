## 논리적 모델링 1 — 키 (Key)

### 1. 데이터베이스 설계 3단계

1. **개념적 모델링**
- 현실 세계의 복잡한 비즈니스 요구를 ERD로 단순화
- “무엇을 저장할까?”, “어떤 관계가 있을까?”에 집중

2. **논리적 모델링**
- ERD를 실제 **관계형 데이터베이스 구조**로 변환
- 엔티티 → 테이블, 속성 → 컬럼
- PK, FK 정의

3. **물리적 모델링**
- 실제 DBMS에 맞게 최적화 (데이터 타입, 인덱스, 저장 구조 등)

### 2. 키(Key)의 개념

- **각 행(Row)을 유일하게 식별**하는 컬럼 집합
- 데이터베이스 무결성(Integrity) 보장의 핵심

#### 종류
- **기본 키 (PK)** : 행을 유일하게 식별, `NOT NULL`, `UNIQUE`, 변경 불가
- **후보 키 (Candidate Key)** : PK로 될 수 있는 모든 키
- **대체 키 (Alternate Key)** : 후보 키 중 선택되지 않은 키
- **외래 키 (FK)** : 다른 테이블의 PK를 참조 → 관계를 연결

### 3. 최소성과 복합키

- **유일성(Unique)** + **최소성(Minimality)** 모두 충족해야 후보 키 가능
- 여러 컬럼을 묶은 **복합키(Composite Key)** 가능
#### 예시
- `{row, col}` : 둘 다 있어야 유일 → 복합키이자 후보 키
- `row = 1`, `col = 1` 두 개를 알아야 PK로 사용할 수 있다는 뜻
- 예로 들어 영화관 좌석 A열 33번 자리 같은 개념
- `{member_id, email}` : `member_id` 하나로 충분 → 최소성 위배

### 4. 자연 키 vs 대리 키

#### 자연 키 (Natural Key)

- 비즈니스적으로 의미 있는 값 (`이메일`, `ISBN`, `전화번호` 등)
- 장점: 직관적, 중복 방지
- 단점: **변경 가능성 존재 → 무결성 깨짐**

#### 대리 키 (Surrogate Key)

- 시스템이 부여한 인위적 키 (`AUTO_INCREMENT`, `UUID`)
- 장점: 변경될 일이 없음, 참조 무결성 안전
- 단점: 의미 없음 (데이터 해석 어려움)

- **현대 설계에서는 대리 키를 기본 키로 사용하고, 자연 키는 UNIQUE로 관리.**
- JWT(JSON Web Token)λ€Β **μΈμ¦μ— ν•„μ”ν• μ •λ³΄λ“¤μ„ μ•”νΈν™”μ‹ν‚¨ JSON ν† ν°**μ„ μλ―Έν•λ‹¤. κ·Έλ¦¬κ³  JWT κΈ°λ° μΈμ¦μ€Β JWT ν† ν°(Access Token)μ„ HTTP ν—¤λ”μ— μ‹¤μ–΄ μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈλ¥Ό μ‹λ³„ν•λ” λ°©μ‹μ΄λ‹¤

- JWTλ” JSON λ°μ΄ν„°λ¥ΌΒ **Base64 URL-safe Encode**Β λ¥Ό ν†µν•΄ μΈμ½”λ”©ν•μ—¬ μ§λ ¬ν™”ν• κ²ƒμ΄λ©°, ν† ν° λ‚΄λ¶€μ—λ” μ„λ³€μ΅° λ°©μ§€λ¥Ό μ„ν•΄ κ°μΈν‚¤λ¥Ό ν†µν•Β **μ „μμ„λ…**λ„ λ“¤μ–΄μλ‹¤. λ”°λΌμ„ μ‚¬μ©μκ°€ JWT λ¥Ό μ„λ²„λ΅ μ „μ†΅ν•λ©΄ μ„λ²„λ” μ„λ…μ„ κ²€μ¦ν•λ” κ³Όμ •μ„ κ±°μΉκ² λλ©° κ²€μ¦μ΄ μ™„λ£λλ©΄ μ”μ²­ν• μ‘λ‹µμ„ λλ ¤μ¤€λ‹¤.
- Base64 URL-safe Encode λ” μΌλ°μ μΈ Base64 Encode μ—μ„ URL μ—μ„ μ¤λ¥μ—†μ΄ μ‚¬μ©ν•λ„λ΅ '+', '/' λ¥Ό κ°κ° '-', '_' λ΅ ν‘ν„ν• κ²ƒμ΄λ‹¤.

- JWTλ”Β **.**Β μ„ κµ¬λ¶„μλ΅ λ‚λ„μ–΄μ§€λ” μ„Έ κ°€μ§€ λ¬Έμμ—΄μ μ΅°ν•©μ΄λ‹¤.
- **.**Β μ„ κΈ°μ¤€μΌλ΅ μΆμΈ΅λ¶€ν„°Β **Header**,Β **Payload**,Β **Signature**λ¥Ό μλ―Έν•λ‹¤.

![[JWT.png]]

- Header μ—λ” JWT μ—μ„ μ‚¬μ©ν• Β νƒ€μ…κ³Ό ν•΄μ‹ μ•κ³ λ¦¬μ¦μ μΆ…λ¥κ°€ λ‹΄κ²¨μμΌλ©°, Payload λ”Β μ„λ²„μ—μ„ μ²¨λ¶€ν• μ‚¬μ©μ κ¶ν• μ •λ³΄μ™€ λ°μ΄ν„°κ°€ λ‹΄κ²¨μλ‹¤. λ§μ§€λ§‰μΌλ΅ Signature μ—λ” Header, Payload λ¥ΌΒ Base64 URL-safe EncodeΒ λ¥Ό ν• μ΄ν›„ Header μ— λ…μ‹λ ν•΄μ‹ν•¨μλ¥Ό μ μ©ν•κ³ ,Β κ°μΈν‚¤(Private Key)λ΅ μ„λ…ν•Β μ „μμ„λ…μ΄ λ‹΄κ²¨μλ‹¤.


- #### **Header**

![[Header.png]]

- alg : μ„λ… μ•”νΈν™” μ•κ³ λ¦¬μ¦(ex: HMAC SHA256, RSA)
- typ : ν† ν° μ ν•

#### **Payload**

- ν† ν°μ—μ„ μ‚¬μ©ν•  μ •λ³΄μ μ΅°κ°λ“¤μΈ Claim μ΄ λ‹΄κ²¨μλ‹¤. (μ‹¤μ  JWT λ¥Ό ν†µν•΄μ„ μ• μ μλ” λ°μ΄ν„°) μ¦‰, μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈκ°€ μ£Όκ³ λ°›λ” μ‹μ¤ν…μ—μ„ μ‹¤μ λ΅ **μ‚¬μ©λ  μ •λ³΄μ— λ€ν• λ‚΄μ©**μ„ λ‹΄κ³  μλ” μ„Ήμ…μ΄λ‹¤.
- key-value ν•μ‹μΌλ΅ μ΄λ£¨μ–΄μ§„ ν• μμ μ •λ³΄λ¥Ό Claimμ΄λΌκ³  μΉ­ν•λ‹¤.

![[payload.png]]

- νμ΄λ΅λ“λ” μ •ν•΄μ§„ λ°μ΄ν„° νƒ€μ…μ€ μ—†μ§€λ§, λ€ν‘μ μΌλ΅ Registered claims,Β Public claims,Β Private claimsΒ μ΄λ ‡κ² μ„Έ κ°€μ§€λ΅ λ‚λ‰λ‹¤.
- - Registed claims : λ―Έλ¦¬ μ •μλ ν΄λ μ„.

- iss(issuer; λ°ν–‰μ),
- exp(expireation time; λ§λ£ μ‹κ°„),
- sub(subject; μ λ©),
- iat(issued At; λ°ν–‰ μ‹κ°„),
- jti(JWI ID)

- Public claims : μ‚¬μ©μκ°€ μ •μν•  μ μλ” ν΄λ μ„ κ³µκ°μ© μ •λ³΄ μ „λ‹¬μ„ μ„ν•΄ μ‚¬μ©.
- Private claims : ν•΄λ‹Ήν•λ” λ‹Ήμ‚¬μλ“¤ κ°„μ— μ •λ³΄λ¥Ό κ³µμ ν•κΈ° μ„ν•΄ λ§λ“¤μ–΄μ§„ μ‚¬μ©μ μ§€μ • ν΄λ μ„. μ™Έλ¶€μ— κ³µκ°λλ„ μƒκ΄€μ—†μ§€λ§ ν•΄λ‹Ή μ μ €λ¥Ό νΉμ •ν•  μ μλ” μ •λ³΄λ“¤μ„ λ‹΄λ”λ‹¤.

#### **Signature**

![[signature.png]]

- μ‹κ·Έλ‹μ²μ—μ„ μ‚¬μ©ν•λ” μ•κ³ λ¦¬μ¦μ€ ν—¤λ”μ—μ„ μ •μν• μ•κ³ λ¦¬μ¦ λ°©μ‹(alg)μ„ ν™μ©ν•λ‹¤.
- μ‹κ·Έλ‹μ²μ κµ¬μ΅°λ” (ν—¤λ” + νμ΄λ΅λ“)μ™€ μ„λ²„κ°€ κ°–κ³  μλ” μ μΌν• key κ°’μ„ ν•©μΉ κ²ƒμ„ ν—¤λ”μ—μ„ μ •μν• μ•κ³ λ¦¬μ¦μΌλ΅ μ•”νΈν™”λ¥Ό ν•λ‹¤.
- Headerμ™€ Payloadλ” λ‹¨μν μΈμ½”λ”©λ κ°’μ΄κΈ° λ•λ¬Έμ— μ  3μκ°€ λ³µνΈν™” λ° μ΅°μ‘ν•  μ μμ§€λ§, Signatureλ” μ„λ²„ μΈ΅μ—μ„ κ΄€λ¦¬ν•λ” λΉ„λ°€ν‚¤κ°€ μ μ¶λμ§€ μ•λ” μ΄μƒ λ³µνΈν™”ν•  μ μ—†λ‹¤. λ”°λΌμ„ Signatureλ” ν† ν°μ μ„λ³€μ΅° μ—¬λ¶€λ¥Ό ν™•μΈν•λ”λ° μ‚¬μ©λλ‹¤.

π’΅ **JWTμ€ μ„λ…(μΈμ¦)μ΄ λ©μ μ΄λ‹¤.**
- JWTλ” Base64λ΅ μ•”νΈν™”λ¥Ό ν•κΈ° λ•λ¬Έμ— λ””λ²„κ±°λ¥Ό μ‚¬μ©ν•΄μ„ μΈμ½”λ”©λ JWTλ¥Ό 1μ΄λ§μ— λ³µνΈν™”ν•  μ μλ‹¤.
λ³µνΈν™” ν•λ©΄ μ‚¬μ©μμ λ°μ΄ν„°λ¥Ό λ‹΄μ€ Payload λ¶€λ¶„μ΄ κ·Έλ€λ΅ λ…Έμ¶λμ–΄ λ²„λ¦°λ‹¤. κ·Έλμ„ νμ΄λ΅λ“μ—λ” λΉ„λ°€λ²νΈμ™€ κ°™μ€ λ―Όκ°ν• μ •λ³΄λ” λ„£μ§€ λ§μ•„μ•Ό ν•λ‹¤.
κ·ΈλΌ ν† ν° μΈμ¦ λ°©μ‹ μμ²΄κ°€ λΉ› μΆ‹μ€ κ°μ‚΄κµ¬λΌκ³  μƒκ°ν• μλ„ μμ§€λ§, ν† ν°μ μ§„μ§ λ©μ μ€ μ •λ³΄ λ³΄νΈκ°€ μ•„λ‹, μ„μ΅° λ°©μ§€μ΄λ‹¤.
μ‹κ·Έλ‹μ²μ— μ‚¬μ©λ λΉ„λ°€ν‚¤κ°€ λ…Έμ¶λμ§€ μ•λ”μ΄μƒ λ°μ΄ν„°λ¥Ό μ„μ΅°ν•΄λ„ μ‹κ·Έλ‹μ² λ¶€λ¶„μ—μ„ λ°”λ΅ κ±Έλ¬μ§€κΈ° λ•λ¬Έμ΄λ‹¤.
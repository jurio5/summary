
## Stateful 상태의 세션 (세션 타임아웃)

- 기본적으로 HTTP는 `비 연결성`이므로 서버 입장에서는 웹 브라우저가 종료한 것인지 확인이 불가능
- 그래서 서블릿에서 지원하는 `HttpSession` 으로 `로그인` / `로그아웃`을 구현할 때 `로그아웃` 쪽에만 `invalidate`를 걸어두면 근본적으로 메모리에 쌓이는 세션의 잔재들을 처리하기가 힘듦 (메모리에 세션이 잔류하면서 쌓이면 결국 `OutOfMemory`를 발현)
- 세션과 관련 된 쿠키(`JSESSIONID`)를 탈취 당했을 때 보안적인 문제도 생김
- 이 부분을 해결하기 위해선 세션 타임아웃을 통해 `30`분 마다 세션을 삭제 시킴
- 그러나 이 방식은 사용자 경험에 의해 좋지 않음, 다른 웹을 돌다가 30분 마다 우리 브라우저에 들어왔을 때 세션이 삭제되어 로그인이 끊겨있으면 사용자 입장에서는 다시 로그인을 해야하는 불편함이 발생 (이 부분을 해결하기 위해선 사용자가 서버에 최근에 요청한 시간을 기준으로 30분 정도를 연장시켜주는 것)
- 현재 이 방식은 서블릿에서 지원하는 `HttpSession`에서 사용하고 있는 방식!

## HttpSession 세션 타임아웃 설정

- 글로벌 설정 - application 환경설정 파일에서 아래의 설정 주입
- server.servlet.session.timeout=1800
- 글로벌 설정에서는 분(60초) 단위로만 단위로만 확장 가능
- 특정 세션 단위 설정
- `request.getSession`을 통해 세션 정보를 얻어온 뒤 변수 명을 지정해주고(`session`으로 가정)
- `session.setMaxInactiveInterval(1800)` 같은 방식으로 조절 가능